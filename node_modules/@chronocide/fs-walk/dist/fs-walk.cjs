'use strict';

var fs = require('fs');
var path = require('path');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var fs__default = /*#__PURE__*/_interopDefaultLegacy(fs);
var path__default = /*#__PURE__*/_interopDefaultLegacy(path);

var index = (root) => {
  const getStack = (dir) => fs__default['default'].readdirSync(dir, { withFileTypes: true }).map((dirEnt) => ({ dirPath: path__default['default'].resolve(dir, dirEnt.name), dirEnt }));
  const stack = getStack(root);
  const files = [];
  while (stack.length > 0) {
    const item = stack.pop();
    if (item) {
      const { dirPath, dirEnt } = item;
      if (dirEnt.isDirectory()) {
        stack.push(...getStack(dirPath));
      } else {
        files.push(dirPath);
      }
    }
  }
  return files;
};

module.exports = index;
